<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./Styles/style_home.css" rel="stylesheet">
    <link href="./Styles/fonts.css" rel="stylesheet">
    <title>home</title>
</head>
<body>
    <header>
        <div id="title">
            <h1>Home</h1>
        </div>
    </header>

    

    <main>
        <div class="chat-list">
            <ul id="chatList">
                <!-- Lista de chats -->
                <li data-chat-id="1">Chat 1</li>
                <li data-chat-id="2">Chat 2</li>
                <li data-chat-id="3">Chat 3</li>
            </ul>
        </div>
    
        <div class="chat-area" id="chatArea">
            <!-- Área de conversa que será atualizada com o conteúdo do chat selecionado -->
            Selecione um chat à esquerda para começar a conversa.
        </div>
    
        <div class="message-input">
            <input type="text" id="messageInput" placeholder="Digite sua mensagem...">
            <button onclick="sendMessage()">Enviar</button>
        </div>
    
        <script>
            function loadChat(chatId) {
    // Simulação de dados da conversa (pode ser substituído por dados dinâmicos ou de um servidor)
    let conversation = getConversation(chatId);

    // Atualiza a área de conversa com o conteúdo do chat selecionado
    const chatArea = document.getElementById('chatArea');
    chatArea.innerHTML = `<h2>Chat ${chatId}</h2>`;
    
    // Exibe as mensagens da conversa
    conversation.forEach(message => {
        chatArea.innerHTML += `<p>${message}</p>`;
    });
}

// Função para enviar mensagem
function sendMessage() {
    const messageInput = document.getElementById('messageInput');
    const message = messageInput.value.trim();

    if (message) {
        // Aqui você enviaria a mensagem para o servidor (WebSocket)
        // Simulação de envio de mensagem para o servidor
        const chatId = getCurrentChatId(); // Função para obter o ID do chat atual
        appendMessageToChat(message, 'Você'); // Adiciona a mensagem na interface (simulação)

        // Limpa o campo de entrada
        messageInput.value = '';
    }

}

// Função para adicionar a mensagem na área de conversa
function appendMessageToChat(message, sender) {
    const chatArea = document.getElementById('chatArea');
    chatArea.innerHTML += `<p><strong>${sender}:</strong> ${message}</p>`;

    // Role a área de conversa para baixo para exibir a última mensagem
    chatArea.scrollTop = chatArea.scrollHeight;
}

// Simulação de função para obter conversa (substitua por lógica real)
function getConversation(chatId) {
    switch (chatId) {
        case 1:
            return ["Mensagem 1.1", "Mensagem 1.2", "Mensagem 1.3"];
        case 2:
            return ["Mensagem 2.1", "Mensagem 2.2"];
        case 3:
            return ["Mensagem 3.1", "Mensagem 3.2", "Mensagem 3.3", "Mensagem 3.4"];
        default:
            return [];
    }
}

// Simulação de função para obter o ID do chat atual (substitua por lógica real)
function getCurrentChatId() {
    // Exemplo simples: retorna o ID do primeiro chat por padrão
    return 1;
}
        </script>
</body>
</html>

<script>
    function loadChat(chatId) {
    // Simulação de dados da conversa (pode ser substituído por dados dinâmicos ou de um servidor)
    let conversation = getConversation(chatId);

    // Atualiza a área de conversa com o conteúdo do chat selecionado
    const chatArea = document.getElementById('chatArea');
    chatArea.innerHTML = `<h2>Chat ${chatId}</h2>`;
    
    // Exibe as mensagens da conversa
    conversation.forEach(message => {
        chatArea.innerHTML += `<p>${message}</p>`;
    });
}

// Simulação de função para obter conversa (substitua por lógica real)
function getConversation(chatId) {
    switch (chatId) {
        case 1:
            return ["Mensagem 1.1", "Mensagem 1.2", "Mensagem 1.3"];
        case 2:
            return ["Mensagem 2.1", "Mensagem 2.2"];
        case 3:
            return ["Mensagem 3.1", "Mensagem 3.2", "Mensagem 3.3", "Mensagem 3.4"];
        default:
            return [];
    }
}

// Adiciona um listener de evento para cada item da lista de chats
document.querySelectorAll('#chatList li').forEach(item => {
    item.addEventListener('click', () => {
        // Obtém o ID do chat clicado
        const chatId = item.getAttribute('data-chat-id');

        // Carrega a conversa correspondente
        loadChat(chatId);
    });
});
</script>